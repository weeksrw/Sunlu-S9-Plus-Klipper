# How to flash the Klipper firmware to your Sunlu S9.
First you need to have kiauh installed on your host mcu, plus Klipper, Moonracker, Mainsail and/or Fluidd and possibly KlipperScreen if you haven't already. 
To do so, [follow these instructions](https://github.com/dw-0/kiauh?tab=readme-ov-file#-download-and-use-kiauh)  

If for any reason you wish to return back to the Sunlu Marlin firmware, [follow these instructions.](https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/blob/main/How%20to%20reinstall%20Marlin%20firmware%20if%20needed.md)

Start the Klipper Installation And Update Helper program on you linux host.
`./kiauh/kiauh.sh`  

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/36095f14-3583-40b0-94e5-22f5b271bd48" width="600">  

Press 4) [Advanced]  

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/6fcbc512-3082-45d1-a56c-735df19f746d" width="600">

Press 4) [Build + Flash] 

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/de5c6de4-3e86-43ad-aafd-c766c0b2ba1a" width="600">

Press space

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/26cd4cf6-23af-4d2b-aa10-05739593959e" width="600">

Press Q

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/d5aa2cf4-8d40-44ce-b447-ede107816b1b" width="600">

Press Y

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/6dce55b2-0eb9-48d0-a2d2-70a763881de5" width="600">

Press 1

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/ff7e8123-2288-4d82-bb1c-a537eb5dd432" width="600">

Press 1

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/c1e9d760-bbc5-4072-897b-26ad301575fa" width="600">

Press 1

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/40bd3069-b0ea-437d-b65f-467f2f35b541" width="600">

Select the MCU for your printer.  If you have more than one and you are not sure which one it is, go back, unplug it and try again and see which one is missing.  That's the one :)

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/1ccf7667-443b-4b88-8340-6632f27748ac" width="600">
 
Y to continue

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/2d1d14b1-abee-4e9c-9e80-2c02ecb50414" width="600">
 
Enter your password

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/0aad4691-008d-48cd-ab27-2b5b117a3bd4" width="600">
 
Ensure your flash was successful.  Press 5 to Get MCU ID to test it's OK

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/ce627164-9051-47c2-91c0-3768bbaaccf3" width="600">
 
Press 1  
You should see the same mcu again.  

<img src="https://github.com/weeksrw/Sunlu-S9-Plus-with-Dryer-Box-on-Klipper/assets/166277940/71f29e98-6086-4f3b-8264-f8f39be720c9" width="600">
  
Lastly, press b for Back and Q for Quit

